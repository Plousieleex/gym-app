generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserRole {
  ADMIN
  USER
}

model users {
  id           Int            @id @unique @default(autoincrement())
  name_surname String
  email        String         @unique
  password     String
  createdAt    DateTime       @default(now())
  passwordChangedAt DateTime? 
  userRole UserRole @default(USER)
  userActive Boolean @default(true) 
  deletedAt DateTime?
  lastLogoutAt DateTime?
  passwordResetToken String?
  passwordResetExpires DateTime?
  user_profile user_profile?
}

model user_profile {
  userId Int @unique
  user users @relation(fields: [userId], references: [id])
  username String @unique
  height Int
  weight Int
  body_mass_index Int
  training_experience String
  training_aim String
  user_sex String @db.Char(1)
  training_duration Int
  birthdate DateTime
  social_media_accounts String[]
  biography String
  profile_img String
}
